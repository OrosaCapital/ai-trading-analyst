:root{
  /* Light Fidelity-like token set (UI-only)
     - Background: warm off-white
     - Primary accent: OCAPX green-like
     - Cards: white with soft border and radius
  */
  --bg: radial-gradient(circle at 20% 20%, #152352 0%, #080f26 45%, #030713 100%);
  --card: rgba(7,15,34,0.75);
  --muted: #8ea4cf;
  --accent: #00d0ff;
  --accent-2: #ff7b39;
  --glass: rgba(255,255,255,0.05);
  --card-radius: 16px;
  --container-gap: 24px;
  --text: #eef3ff;
  --page-padding: 24px;
  --chart-bg: #04102a;
  --chart-grid: rgba(255,255,255,0.12);
  --chart-glow: rgba(0,169,255,0.35);
  --chart-bull: #00d0ff;
  --chart-bear: #ff7b39;
}

body.light{
  --bg: #f6f5f3;
  --card: rgba(255,255,255,0.95);
  --muted: #6b7280;
  --accent: #1f8a3a;
  --accent-2: #7c5cff;
  --glass: rgba(15,20,30,0.02);
  --card-radius: 16px;
  --container-gap: 24px;
  --text: #081425;
  --chart-bg: #ffffff;
  --chart-grid: rgba(8,20,37,0.08);
  --chart-glow: rgba(31,138,58,0.15);
  --chart-bull: #0b6cfd;
  --chart-bear: #ff7b39;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  min-height:100vh;
}
body.light{
  background: var(--bg);
  color:var(--text);
}

.site-header{
  height:84px;
  display:flex;
  align-items:center;
  padding:0 var(--page-padding);
  gap:20px;
  background:rgba(5,10,28,0.65);
  border-bottom:1px solid rgba(255,255,255,0.05);
  backdrop-filter:blur(20px);
}
body.light .site-header{
  background:rgba(255,255,255,0.85);
  border-bottom:1px solid rgba(8,20,37,0.08);
}
.brand{font-weight:700;color:var(--accent);font-size:20px;display:flex;align-items:center;gap:12px}
.brand-logo{height:44px;width:auto;display:block}
.brand-text{color:var(--text);font-size:16px;letter-spacing:0.14em;text-transform:uppercase}
.top-nav{display:flex;gap:18px;margin-left:20px}
.top-nav a{color:var(--muted);text-decoration:none;font-size:15px;letter-spacing:0.08em;text-transform:uppercase}
.header-actions{margin-left:auto;display:flex;align-items:center;gap:12px}
.header-actions button{background:transparent;border:1px solid rgba(255,255,255,0.15);color:var(--text);padding:8px 12px;border-radius:999px}

/* subtle search input style on header (non-functional placeholder) */
.header-search{border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05);padding:8px 12px;border-radius:20px;color:var(--text);font-size:13px}

.layout{
  display:block;
  padding:var(--page-padding);
  max-width:1600px;
  margin:0 auto;
  width:100%;
}
.sidebar{
  display:none;
}
.sidebar-card{
  background:var(--card);
  border-radius:var(--card-radius);
  padding:18px;
  border:1px solid rgba(255,255,255,0.07);
  box-shadow:0 20px 45px rgba(2,4,12,0.65);
  backdrop-filter:blur(20px);
}
.sidebar-title{
  margin:0 0 12px;
  font-size:13px;
  letter-spacing:0.2em;
  color:var(--muted);
  text-transform:uppercase;
}
.sidebar ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.sidebar li{padding:10px 12px;border-radius:10px;color:var(--text);cursor:pointer;background:rgba(255,255,255,0.02);font-size:14px;letter-spacing:0.05em}
.sidebar li.active{background:rgba(0,208,255,0.12);color:var(--text);font-weight:600;box-shadow:0 10px 24px rgba(0,208,255,0.25)}
.timeframe-list{display:flex;flex-wrap:wrap;gap:8px}
.chip{border:none;padding:8px 14px;border-radius:999px;background:rgba(255,255,255,0.05);color:var(--muted);font-size:13px;letter-spacing:0.1em;text-transform:uppercase;cursor:pointer;transition:background 0.2s,color 0.2s}
.chip.active,.chip:hover{background:rgba(0,208,255,0.15);color:var(--text)}
.pulse-stat{display:flex;flex-direction:column;gap:4px;margin-bottom:10px}
.pulse-stat span{color:var(--muted);font-size:12px;letter-spacing:0.18em;text-transform:uppercase}
.pulse-stat strong{color:var(--text);font-size:16px}

.account-panel{font-size:13px;color:var(--muted);}
.account-balance{font-size:20px;font-weight:700;color:var(--text);margin-top:8px}

.main{width:100%}
.page-header{
  display:flex;
  flex-direction:column;
  gap:24px;
  padding:24px;
  background:linear-gradient(135deg,rgba(255,255,255,0.08) 0%,rgba(5,11,25,0.85) 100%);
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 25px 60px rgba(2,4,12,0.65);
  margin-bottom:20px;
}
.page-header__primary{display:flex;justify-content:space-between;align-items:center;gap:24px}
.live-price-display{
  background:rgba(5,10,34,0.6);
  border-radius:16px;
  padding:16px 20px;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 10px 28px rgba(0,0,0,0.45);
  display:flex;
  flex-direction:column;
  gap:10px;
  min-width:220px;
}
.symbol-select{display:flex;flex-direction:column;gap:4px}
.symbol-label{font-size:12px;letter-spacing:0.25em;color:#8aa0d0;text-transform:uppercase}
#live-symbol{font-size:20px;color:#f7fbff}
.price-readout{display:flex;align-items:baseline;gap:10px}
#live-price{font-size:32px;font-weight:700;color:#00f6ff;text-shadow:0 0 12px rgba(0,246,255,0.6)}
#live-price-delta{font-size:14px;color:#1cffb4}
body.light .live-price-display{background:#fff;border:1px solid rgba(8,20,37,0.08);box-shadow:0 10px 25px rgba(8,20,37,0.12)}
body.light #live-symbol{color:#0b1e33}
body.light #live-price{color:#1f8a3a;text-shadow:none}
body.light #live-price-delta{color:#1f8a3a}
.page-header__primary{flex-wrap:wrap}
.page-header h1{margin:6px 0;font-size:32px;line-height:1.25;color:#f8fbff}
.eyebrow{margin:0;text-transform:uppercase;letter-spacing:0.3em;font-size:12px;color:#8aa0d0}
.subheading{margin:0;color:#b2bfdc;font-size:15px}
.tabs{display:flex;gap:12px;flex-wrap:wrap}
.tabs a{
  color:#93a4c9;
  text-decoration:none;
  padding:10px 16px;
  border-radius:999px;
  background:transparent;
  border:1px solid transparent;
  font-size:13px;
  letter-spacing:0.15em;
  text-transform:uppercase;
}
.tabs a.active{
  color:#050d1f;
  border-color:#00d0ff;
  background:#00d0ff;
  box-shadow:0 15px 30px rgba(0,208,255,0.4);
}
body.light .tabs a.active{
  color:#fff;
  background:#1f8a3a;
  border-color:#1f8a3a;
  box-shadow:0 12px 24px rgba(31,138,58,0.3);
}
.page-controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.page-controls select{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.15);
  background:rgba(5,12,26,0.6);
  color:#f5f8ff;
  font-size:14px;
}
.control-input{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.15);
  background:rgba(5,12,26,0.6);
  color:#f5f8ff;
  font-size:14px;
  width:130px;
}
.command-chip{
  font-size:12px;
  letter-spacing:0.2em;
  text-transform:uppercase;
  color:#7a8b9a;
  border:1px solid rgba(255,255,255,0.15);
  border-radius:999px;
  padding:6px 12px;
}
.command-chip.good{color:#1cffb4;border-color:rgba(28,255,180,0.5)}
.command-chip.bad{color:#ff4d6d;border-color:rgba(255,77,109,0.6)}
.command-chip.pending{color:#f6c343;border-color:rgba(246,195,67,0.6)}
.command-chip::selection{background:transparent}
body.light .control-input{
  background:#fff;
  border-color:rgba(8,20,37,0.12);
  color:#0b1e33;
}
body.light .command-chip{color:#6b7280;border-color:rgba(8,20,37,0.12)}
.btn{padding:10px 18px;border-radius:12px;border:0;background:rgba(255,255,255,0.08);color:#f7faff;font-weight:600;box-shadow:0 6px 18px rgba(3,6,18,0.7)}
.btn.secondary{background:rgba(0,208,255,0.12);color:#00d0ff}
.btn.primary{background:linear-gradient(120deg,#00d0ff,#ff7b39);color:#050d1f;box-shadow:0 15px 35px rgba(0,208,255,0.45)}
body.light .btn{background:#fff;color:#081425;box-shadow:0 6px 16px rgba(8,20,37,0.12)}
body.light .btn.secondary{background:#eef2ff;color:#1f3a63}
body.light .btn.primary{background:#1f8a3a;color:#fff;box-shadow:0 12px 24px rgba(31,138,58,0.3)}

.metrics-row{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
  margin-bottom:32px;
}
.metric-card{
  background:rgba(7,15,34,0.8);
  border-radius:18px;
  padding:18px;
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 20px 45px rgba(2,4,12,0.6);
  display:flex;
  flex-direction:column;
  gap:6px;
  position:relative;
  padding-top:26px;
}
.metric-status{
  position:absolute;
  top:14px;
  right:16px;
  width:14px;
  height:14px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.2);
  box-shadow:0 0 12px rgba(0,0,0,0.4);
}
.metric-status[data-connected="true"]{background:#1cffb4;box-shadow:0 0 16px rgba(28,255,180,0.7)}
.metric-status[data-connected="false"]{background:#ff4d6d;box-shadow:0 0 12px rgba(255,77,109,0.6)}
body.light .metric-status{border-color:rgba(8,20,37,0.15);box-shadow:0 0 8px rgba(8,20,37,0.15)}
.metric-label{
  margin:0;
  letter-spacing:0.25em;
  color:#8aa0d0;
  text-transform:uppercase;
  font-size:12px;
}
.metric-card h2{margin:0;font-size:22px;color:#f7fbff}
.metric-card small{color:#95a7ce}
.metric-delta{font-size:16px;font-weight:700}
.metric-delta.up{color:#00d0ff}
.metric-delta.down{color:#ff7b39}
.metric-delta.neutral{color:#f6c343}
body.light .metric-card{
  background:#ffffff;
  border:1px solid rgba(8,20,37,0.08);
  box-shadow:0 18px 35px rgba(8,20,37,0.12);
}
body.light .metric-card h2{color:#0b1e33}
body.light .metric-card small{color:#6b7280}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(360px,1fr));
  gap:24px;
}
.card{background:var(--card);padding:16px;border-radius:var(--card-radius);border:1px solid rgba(255,255,255,0.08);box-shadow:0 18px 40px rgba(2,4,14,0.6);backdrop-filter:blur(18px)}
.card-title{font-size:13px;color:#c9d8ff;margin-bottom:10px;font-weight:600;letter-spacing:0.18em;text-transform:uppercase}
.chart-large{
  grid-column:1/-1;
  min-height:700px;
}
.indicators{margin-top:0}
.small{min-height:200px}
.wide{grid-column:span 2}

body.light .card{
  background:#ffffff;
  border:1px solid rgba(8,20,37,0.08);
  box-shadow:0 18px 35px rgba(8,20,37,0.1);
}
body.light .card-title{color:#4b5875}

.chart-panel{
  display:grid;
  grid-template-columns:minmax(0,1fr) 280px;
  gap:26px;
  background:linear-gradient(135deg,#050d24 0%,#04102a 60%,#0a1f44 100%);
  border-radius:20px;
  padding:26px;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 30px 70px rgba(4,10,20,0.65), 0 0 35px var(--chart-glow);
}
body.light .chart-panel{
  background:linear-gradient(135deg,#fefefe 0%,#f3f6ff 100%);
  border:1px solid rgba(8,20,37,0.08);
  box-shadow:0 20px 45px rgba(8,20,37,0.15);
}
.chart-main{
  position:relative;
  border-radius:16px;
  overflow:hidden;
  background:var(--chart-bg);
  border:1px solid rgba(255,255,255,0.1);
  box-shadow:inset 0 0 30px rgba(0,0,0,0.4);
}
.chart-grid{
  position:absolute;
  inset:0;
  background:
    linear-gradient(to right, var(--chart-grid) 1px, transparent 1px),
    linear-gradient(to top, var(--chart-grid) 1px, transparent 1px);
  background-size:80px 80px;
  opacity:0.4;
  pointer-events:none;
}
.chart-slot{
  position:relative;
  height:100%;
  min-height:620px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at top, rgba(0,208,255,0.15), transparent 60%);
}
body.light .chart-slot{
  background:radial-gradient(circle at top, rgba(31,138,58,0.12), transparent 60%);
}
.chart-slot .tv-chart{width:100%;height:100%;}
.chart-slot img{display:none}
.chart-side{
  display:flex;
  flex-direction:column;
  gap:18px;
}
.mini-card{
  background:rgba(9,22,56,0.75);
  border-radius:14px;
  padding:14px;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 12px 30px rgba(3,5,12,0.6);
}
body.light .mini-card{
  background:#ffffff;
  border:1px solid rgba(8,20,37,0.08);
  box-shadow:0 12px 24px rgba(8,20,37,0.12);
}
body.light .mini-label{color:#6b7280}
.mini-label{
  margin:0 0 6px;
  font-size:12px;
  letter-spacing:0.2em;
  text-transform:uppercase;
  color:#aebdde;
}
.sparkline{
  height:60px;
  border-radius:10px;
  background:
    linear-gradient(120deg,#0b64ff,#00d0ff 60%,#ff7b39);
  mask-image:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,1));
}
.chart-gauge{
  position:relative;
  width:120px;
  height:120px;
  margin:0 auto;
}
.chart-gauge__ring{
  width:100%;
  height:100%;
  border-radius:50%;
  border:6px solid rgba(255,255,255,0.1);
  box-shadow:inset 0 0 20px rgba(255,255,255,0.08);
}
.chart-gauge__ring::after{
  content:'';
  position:absolute;
  inset:12px;
  border-radius:50%;
  border:8px solid transparent;
  border-top-color:#ff7b39;
  border-right-color:#ff3c7d;
  border-bottom-color:#00d0ff;
  transform:rotate(-30deg);
}
.chart-gauge__dot{
  position:absolute;
  top:10px;
  right:28px;
  width:14px;
  height:14px;
  border-radius:50%;
  background:#ff7b39;
  box-shadow:0 0 15px #ff7b39;
}
.mini-card.stats{
  display:flex;
  flex-direction:column;
  gap:10px;
  color:#fefefe;
}
.mini-card.stats span{color:#7b8ab5;font-size:12px;text-transform:uppercase;letter-spacing:0.2em}
.mini-card.stats strong{font-size:16px;color:#00d0ff}
.small-slot{height:80px}

.indicator-list{display:flex;flex-direction:column;gap:10px}
.indicator{
  padding:14px;
  border-radius:12px;
  background:rgba(255,255,255,0.04);
  display:flex;
  align-items:center;
  color:#f7fbff;
  position:relative;
  flex-wrap:wrap;
  gap:10px;
}
.indicator .meta{color:#8ea4cf;font-size:12px}
.indicator-body{
  display:flex;
  gap:6px;
  align-items:center;
  flex-wrap:wrap;
  font-weight:600;
}
.indicator .divider{opacity:0.4}
.indicator-meta{color:#8ea4cf;font-size:12px}
.feed-label{
  margin:0;
  font-size:11px;
  letter-spacing:0.2em;
  text-transform:uppercase;
  color:#7bb7ff;
  width:100%;
  opacity:0.85;
}
.indicator-status{
  display:inline-block;
  width:14px;
  height:14px;
  border-radius:50%;
  box-shadow:0 0 12px rgba(0,0,0,0.4);
  border:2px solid rgba(255,255,255,0.2);
  flex-shrink:0;
}
.indicator[data-connected="true"] .indicator-status{
  background:#1cffb4;
  box-shadow:0 0 16px rgba(28,255,180,0.7);
}
.indicator[data-connected="false"] .indicator-status{
  background:#ff4d6d;
  box-shadow:0 0 12px rgba(255,77,109,0.6);
}
body.light .indicator-status{
  border-color:rgba(8,20,37,0.15);
  box-shadow:0 0 8px rgba(8,20,37,0.15);
}
body.light .indicator{background:rgba(8,20,37,0.05);color:#0b1e33}
body.light .indicator .meta{color:#6b7280}
body.light .indicator-meta{color:#6b7280}
body.light .feed-label{color:#2563eb}

.panel-body{color:#9fb1d8;padding:10px}
.signals{min-height:80px}
body.light .panel-body{color:#4b5563}

.site-footer{padding:16px var(--page-padding);text-align:center;color:#8ea4cf;font-size:13px;border-top:1px solid rgba(255,255,255,0.05)}
body.light .site-footer{color:#6b7280;border-top:1px solid rgba(8,20,37,0.08)}

.sidebar-stack{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px;
  margin-top:32px;
}
body.light .sidebar-card{
  background:#ffffff;
  border:1px solid rgba(8,20,37,0.08);
  box-shadow:0 18px 35px rgba(8,20,37,0.1);
}
body.light .sidebar-title{color:#6b7280}
body.light .sidebar li{background:rgba(8,20,37,0.04);color:#0b1e33}
body.light .sidebar li.active{background:rgba(31,138,58,0.12);box-shadow:none}
body.light .chip{background:rgba(8,20,37,0.05);color:#6b7280}
body.light .chip.active,body.light .chip:hover{background:rgba(31,138,58,0.15);color:#0b1e33}
body.light .pulse-stat span{color:#6b7280}
body.light .pulse-stat strong{color:#0b1e33}

@media (min-width:1200px){
  .grid{
    grid-template-columns:repeat(auto-fit,minmax(420px,1fr));
  }
}

/* Spinner for compute status */
#compute-spinner{
  width:14px;
  height:14px;
  border-radius:50%;
  box-sizing:border-box;
  border:2px solid rgba(255,255,255,0.15);
  border-top-color:var(--accent);
  animation:spin 800ms linear infinite;
  display:inline-block;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* hide spinner when not computing */
.spinner-hidden{display:none !important}
